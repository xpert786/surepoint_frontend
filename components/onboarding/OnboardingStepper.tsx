'use client';

import React from 'react';

// Icon components
const CompanyWarehouseIcon = ({ isActive }: { isActive: boolean }) => (
  <svg width="22" height="24" viewBox="0 0 22 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2.09524 0V2.08696H0V24H5.76191V19.3043H7.85714V24H13.619V2.08696H11.5238V0H2.09524ZM3.14286 4.17391H4.19048V5.21739H3.14286V4.17391ZM5.2381 4.17391H6.28571V5.21739H5.2381V4.17391ZM7.33333 4.17391H8.38095V5.21739H7.33333V4.17391ZM9.42857 4.17391H10.4762V5.21739H9.42857V4.17391ZM14.6667 6.26087V8.34783H15.7143V9.3913H14.6667V10.4348H15.7143V11.4783H14.6667V12.5217H15.7143V13.5652H14.6667V14.6087H15.7143V15.6522H14.6667V16.6957H15.7143V17.7391H14.6667V18.7826H15.7143V19.8261H14.6667V20.8696H15.7143V21.913H14.6667V24H22V6.26087H14.6667ZM3.14286 6.78261H4.19048V8.86957H3.14286V6.78261ZM5.2381 6.78261H6.28571V8.86957H5.2381V6.78261ZM7.33333 6.78261H8.38095V8.86957H7.33333V6.78261ZM9.42857 6.78261H10.4762V8.86957H9.42857V6.78261ZM16.7619 8.34783H17.8095V9.3913H16.7619V8.34783ZM18.8571 8.34783H19.9048V9.3913H18.8571V8.34783ZM3.14286 9.91304H4.19048V12H3.14286V9.91304ZM5.2381 9.91304H6.28571V12H5.2381V9.91304ZM7.33333 9.91304H8.38095V12H7.33333V9.91304ZM9.42857 9.91304H10.4762V12H9.42857V9.91304ZM16.7619 10.4348H17.8095V11.4783H16.7619V10.4348ZM18.8571 10.4348H19.9048V11.4783H18.8571V10.4348ZM16.7619 12.5217H17.8095V13.5652H16.7619V12.5217ZM18.8571 12.5217H19.9048V13.5652H18.8571V12.5217ZM3.14286 13.0435H4.19048V15.1304H3.14286V13.0435ZM5.2381 13.0435H6.28571V15.1304H5.2381V13.0435ZM7.33333 13.0435H8.38095V15.1304H7.33333V13.0435ZM9.42857 13.0435H10.4762V15.1304H9.42857V13.0435ZM16.7619 14.6087H17.8095V15.6522H16.7619V14.6087ZM18.8571 14.6087H19.9048V15.6522H18.8571V14.6087ZM3.14286 16.1739H4.19048V18.2609H3.14286V16.1739ZM5.2381 16.1739H6.28571V18.2609H5.2381V16.1739ZM7.33333 16.1739H8.38095V18.2609H7.33333V16.1739ZM9.42857 16.1739H10.4762V18.2609H9.42857V16.1739ZM16.7619 16.6957H17.8095V17.7391H16.7619V16.6957ZM18.8571 16.6957H19.9048V17.7391H18.8571V16.6957ZM16.7619 18.7826H17.8095V19.8261H16.7619V18.7826ZM18.8571 18.7826H19.9048V19.8261H18.8571V18.7826ZM3.14286 19.3043H4.19048V21.913H3.14286V19.3043ZM9.42857 19.3043H10.4762V21.913H9.42857V19.3043ZM16.7619 20.8696H17.8095V21.913H16.7619V20.8696ZM18.8571 20.8696H19.9048V21.913H18.8571V20.8696Z" fill={isActive ? "#E79138" : "#535B69"}/>
  </svg>
);

const TeamSetupIcon = ({ isActive }: { isActive: boolean }) => (
  <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M11 8.8C12.167 8.8 13.2861 8.33643 14.1113 7.51127C14.9364 6.68611 15.4 5.56695 15.4 4.4C15.4 3.23305 14.9364 2.11389 14.1113 1.28873C13.2861 0.46357 12.167 0 11 0C9.83305 0 8.71389 0.46357 7.88873 1.28873C7.06357 2.11389 6.6 3.23305 6.6 4.4C6.6 5.56695 7.06357 6.68611 7.88873 7.51127C8.71389 8.33643 9.83305 8.8 11 8.8ZM3.85 12.1C4.57935 12.1 5.27882 11.8103 5.79454 11.2945C6.31027 10.7788 6.6 10.0793 6.6 9.35C6.6 8.62066 6.31027 7.92118 5.79454 7.40546C5.27882 6.88973 4.57935 6.6 3.85 6.6C3.12065 6.6 2.42118 6.88973 1.90546 7.40546C1.38973 7.92118 1.1 8.62066 1.1 9.35C1.1 10.0793 1.38973 10.7788 1.90546 11.2945C2.42118 11.8103 3.12065 12.1 3.85 12.1ZM20.9 9.35C20.9 10.0793 20.6103 10.7788 20.0945 11.2945C19.5788 11.8103 18.8793 12.1 18.15 12.1C17.4207 12.1 16.7212 11.8103 16.2055 11.2945C15.6897 10.7788 15.4 10.0793 15.4 9.35C15.4 8.62066 15.6897 7.92118 16.2055 7.40546C16.7212 6.88973 17.4207 6.6 18.15 6.6C18.8793 6.6 19.5788 6.88973 20.0945 7.40546C20.6103 7.92118 20.9 8.62066 20.9 9.35ZM11 9.9C12.4587 9.9 13.8576 10.4795 14.8891 11.5109C15.9205 12.5424 16.5 13.9413 16.5 15.4V22H5.5V15.4C5.5 13.9413 6.07946 12.5424 7.11091 11.5109C8.14236 10.4795 9.54131 9.9 11 9.9ZM3.3 15.4C3.3 14.6377 3.41 13.9018 3.6168 13.2066L3.4298 13.222C2.48697 13.3255 1.61553 13.7734 0.982589 14.4799C0.349648 15.1863 -0.000246135 16.1015 1.29907e-07 17.05V22H3.3V15.4ZM22 22V17.05C22.0001 16.0692 21.6259 15.1253 20.9538 14.4111C20.2816 13.6968 19.3622 13.266 18.3832 13.2066C18.5889 13.9018 18.7 14.6377 18.7 15.4V22H22Z" fill={isActive ? "#E79138" : "#535B69"}/>
  </svg>
);

const IntegrationsIcon = ({ isActive }: { isActive: boolean }) => (
  <svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M5.1975 12.2222L7.4425 10.0271C7.56417 9.90815 7.62792 9.76759 7.63375 9.60544C7.63958 9.4433 7.57583 9.29541 7.4425 9.16178C7.30417 9.02733 7.15542 8.95889 6.99625 8.95644C6.83708 8.954 6.68833 9.02 6.55 9.15444L4.12 11.5304C3.91833 11.7284 3.8175 11.959 3.8175 12.2222C3.8175 12.4854 3.91833 12.7156 4.12 12.9128L6.55 15.29C6.67167 15.4098 6.81625 15.4721 6.98375 15.477C7.15125 15.4819 7.30417 15.4175 7.4425 15.2839C7.57583 15.1494 7.64333 15.0052 7.645 14.8512C7.64667 14.6972 7.57917 14.553 7.4425 14.4186L5.1975 12.2222ZM14.8025 12.2222L12.5575 14.4173C12.4358 14.5363 12.3721 14.6769 12.3662 14.839C12.3604 15.0011 12.4242 15.149 12.5575 15.2827C12.6958 15.4171 12.8446 15.4856 13.0037 15.488C13.1629 15.4904 13.3117 15.4244 13.45 15.29L15.88 12.914C16.0817 12.716 16.1825 12.4854 16.1825 12.2222C16.1825 11.959 16.0817 11.7289 15.88 11.5317L13.4487 9.15444C13.3271 9.03467 13.1825 8.97233 13.015 8.96744C12.8475 8.96255 12.695 9.02693 12.5575 9.16055C12.4242 9.295 12.3567 9.43922 12.355 9.59322C12.3533 9.74722 12.4208 9.89144 12.5575 10.0259L14.8025 12.2222ZM2.02 22C1.46 22 0.983333 21.8077 0.59 21.4231C0.196667 21.0385 0 20.5729 0 20.0261V4.41833C0 3.87241 0.196667 3.40674 0.59 3.02133C0.983333 2.63674 1.46 2.44444 2.02 2.44444H7.895C7.78083 1.8203 7.93333 1.25685 8.3525 0.754111C8.77083 0.251371 9.32 0 10 0C10.6958 0 11.2533 0.251371 11.6725 0.754111C12.0917 1.25685 12.2363 1.8203 12.1063 2.44444H17.9813C18.5396 2.44444 19.0158 2.63674 19.41 3.02133C19.8033 3.40593 20 3.872 20 4.41956V20.0261C20 20.572 19.8033 21.0377 19.41 21.4231C19.0167 21.8077 18.5404 22 17.9813 22H2.02ZM10 2.98467C10.2708 2.98467 10.495 2.8983 10.6725 2.72556C10.85 2.55281 10.9383 2.33363 10.9375 2.068C10.9367 1.80237 10.8479 1.58359 10.6712 1.41167C10.4946 1.23974 10.2708 1.15296 10 1.15133C9.72917 1.1497 9.50542 1.23648 9.32875 1.41167C9.15208 1.58685 9.06333 1.80563 9.0625 2.068C9.06167 2.33037 9.15042 2.54956 9.32875 2.72556C9.50708 2.90156 9.73083 2.98793 10 2.98467Z" fill={isActive ? "#E79138" : "#535B69"}/>
  </svg>
);

const ReviewAndFinishIcon = ({ isActive }: { isActive: boolean }) => (
  <svg width="20" height="19" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3.76111 11.8114H6.21667L12.7611 5.2504L10.3467 2.79153L3.76111 9.35258V11.8114ZM10.3333 6.32962L9.27778 5.27821L10.35 4.21567L11.3678 5.27265L10.3333 6.32962ZM9.79556 11.8114H16.24V10.6988H10.9067L9.79556 11.8114ZM0 19V0H20V15.5765H3.41889L0 19Z" fill={isActive ? "#E79138" : "#535B69"}/>
  </svg>
);

export type OnboardingStep = 'company' | 'team' | 'integrations' | 'review';

interface OnboardingStepperProps {
  activeStep: OnboardingStep;
  completedSteps?: OnboardingStep[];
}

export function OnboardingStepper({ activeStep, completedSteps = [] }: OnboardingStepperProps) {
  const steps = [
    { 
      key: 'company' as OnboardingStep,
      label: 'Company & Warehouse Info', 
      icon: CompanyWarehouseIcon
    },
    { 
      key: 'team' as OnboardingStep,
      label: 'Team Setup', 
      icon: TeamSetupIcon
    },
    { 
      key: 'integrations' as OnboardingStep,
      label: 'Integrations', 
      icon: IntegrationsIcon
    },
    { 
      key: 'review' as OnboardingStep,
      label: 'Review & Finish', 
      icon: ReviewAndFinishIcon
    },
  ];

  return (
    <div className="p-6 mb-6">
      <div className="flex items-center justify-between">
        {steps.map((step, idx) => {
          const isActive = step.key === activeStep;
          const isCompleted = completedSteps.includes(step.key);
          const isActiveOrCompleted = isActive || isCompleted;
          
          return (
            <div key={step.key} className="flex-1 flex items-center">
              <div className="flex items-center gap-3">
                <div
                  className={`w-10 h-10 rounded-full flex items-center justify-center ${
                    isActive 
                      ? 'bg-white shadow-md' 
                      : 'bg-gray-100'
                  }`}
                >
                  <step.icon isActive={isActiveOrCompleted} />
                </div>
                <div className={`text-sm font-medium ${isActive ? 'text-[#020F3F]' : 'text-gray-500'}`}>
                  {step.label}
                </div>
              </div>
              {idx < steps.length - 1 && (
                <div className={`flex-1 h-0.5 mx-4 ${isActiveOrCompleted ? 'bg-orange-500' : 'bg-gray-200'}`} style={{ minWidth: '40px' }} />
              )}
            </div>
          );
        })}
      </div>
    </div>
  );
}

